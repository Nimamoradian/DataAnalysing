[{"id":"6971ac9b.4adaf4","type":"function","z":"1cccd5e9.e9424a","name":"LB","func":"var story = \"The event that caused my trauma happened 20 years ago when I was a fire officer. I was in charge of an appliance at a house fire where three people had died. It was my job to take their remains out of the house. A few days later I became distressed and started crying and feeling upset. This strong reaction came as a shock, but I said nothing at the time. I think this was partly because I didn't want to share my emotions with anybody. My feelings and thoughts continued to bother me for a few weeks. After a while I decided that, because of my job, being like this was no good and I had to put these emotions to one side. These early responses to the trauma indicated the huge wave of feelings and sensations that would come back 17 years later in a way I couldn’t ignore.  I was still a firefighter. I kept remembering that terrible event and the feelings it left me with, but I tried not to think about it. A few days later my colleagues and I were at another house fire. It was similar to the one in which the family had died. Suddenly, I felt as if I wasn’t there. My mind was totally occupied in a flashback of the original incident. One of my colleagues had to step in and take over from me. From then on I started to become distressed for no real reason. Everything seemed emotional, and I felt raw and exposed. I got easily frustrated, which made me short-tempered and angry. When the distress was at its worst, I had three or four flashbacks a day. I would sweat and become very nervous as I remembered the events 20 years ago. All the smells were there, and I even felt the heat of the fire moving across my face. People who saw me say that I sometimes walked about and mouthed words, but I was completely detached from my surroundings. That was when it became obvious that I couldn’t go on. After some time, I had a course of trauma-focused cognitive behavioural therapy with a PTSD charity called ASSIST. They helped me to understand that I had experienced something abnormal, that none of it was my fault, and that there was nothing wrong or crazy about my emotional responses. Talking about the fire was uncomfortable at times, but it helped me to process my memories so that they stopped reappearing as flashbacks. They have gone now, and I am able to get on with my life.suicide suicide suicide\"; \nvar words = story.split(/[ ,!.]+/);  // extracting words from the strig\nvar keywords=[];\n\n//lists of stopwords\nvar stopwords = new Array('a','about','above','across','after','again','against','all','almost','alone','along','already','also','although','always','among','an','and','another','any','anybody','anyone','anything','anywhere','are','area','areas','around','as','ask','asked','asking','asks','at','away','b','back','backed','backing','backs','be','became','because','become','becomes','been','before','began','behind','being','beings','best','better','between','big','both','but','by','c','came','can','cannot','case','cases','certain','certainly','clear','clearly','come','could','d','did','differ','different','differently','do','does','done','down','down','downed','downing','downs','during','e','each','early','either','end','ended','ending','ends','enough','even','evenly','ever','every','everybody','everyone','everything','everywhere','f','face','faces','fact','facts','far','felt','few','find','finds','first','for','four','from','full','fully','further','furthered','furthering','furthers','g','gave','general','generally','get','gets','give','given','gives','go','going','good','goods','got','great','greater','greatest','group','grouped','grouping','groups','h','had','has','have','having','he','her','here','herself','high','higher','highest','him','himself','his','howhowever','i','if','important','in','interest','interested','interesting','interests','into','is','it','its','itself','j','just','k','keep','keeps','kind','knew','know','known','knows','l','large','largely','last','later','latest','least','less','let','lets','like','likely','long','longer','longest','m','made','make','making','man','many','may','me','member','members','men','might','more','most','mostly','mr','mrs','much','must','my','myself','n','necessary','need','needed','needing','needs','never','new','new','newer','newest','next','no','nobody','non','noone','not','nothing','now','nowhere','number','numbers','o','of','off','often','old','older','oldest','on','once','one','only','open','opened','opening','opens','or','order','ordered','ordering','orders','other','others','our','out','over','p','part','parted','parting','parts','per','perhaps','place','places','point','pointed','pointing','points','possible','present','presented','presenting','presents','problem','problems','put','puts','q','quite','r','rather','really','right','right','room','rooms','s','said','same','saw','say','says','second','seconds','see','seem','seemed','seeming','seems','sees','several','shall','she','should','show','showed','showing','shows','side','sides','since','small','smaller','smallest','so','some','somebody','someone','something','somewhere','state','states','still','still','such','sure','t','take','taken','than','that','the','their','them','then','there','therefore','these','they','thing','things','think','thinks','this','those','though','thought','thoughts','three','through','thus','to','today','together','too','took','toward','turn','turned','turning','turns','two','u','under','until','up','upon','us','use','used','uses','v','very','w','want','wanted','wanting','wants','was','way','ways','we','well','wells','went','were','what','when','where','whether','which','while','who','whole','whose','why','will','with','within','without','work','worked','working','works','would','x','y','year','years','yet','you','young','younger','youngest','your','yours','z' ,'it','ago' );\n\nfor ( i=0 ; i < words.length ; i++){\n    words[i] = words[i].toLowerCase();\n    for (  j=0 ; j < stopwords.length ; j++){\n        if (words[i]==stopwords[j]){\n            words[i] = words[i].replace(words[i], \"\");\n        }\n    }\n\n    if (isNaN(words[i])){\n       if (keywords.length > 0){\n        \n        var checker=false;\n        \n        for ( j=0 ; j < keywords.length ; j++) {\n                if (words[i] == keywords[j].text) {\n                keywords[j].count= (keywords[j].count) +1;\n                checker=true;\n                 \n                } \n       };\n            if (checker == false) keywords.push({text:words[i],count:1});\n\n        }else{       \n            keywords.push({text:words[i],count:1});\n        };\n    };\n}\n\nkeywords.sort(function(a, b) { //sort the keywords by the umber of repeating\n\t\t\tif (a.count > b.count)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t});\nkeywords = keywords.slice(0, 20); \nmsg.payload = keywords;\nmsg.topic= \"LB\";\nreturn msg;","outputs":1,"noerr":0,"x":394,"y":541.9999923706055,"wires":[["f860930.648b97","e2b33cf.08f75c"]]}]
